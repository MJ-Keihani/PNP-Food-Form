<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ูุฑู ุงูุชุฎุงุจ ุฑูุฒูุง ุบุฐุง</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main class="container">

    <!-- Form -->
    <section id="formSection">
      <h1>ูุฑู ุบุฐุง</h1>

      <form id="mealForm" onsubmit="return false;">
        <label class="field">
          <span> :ูุงู ู ูุงู ุฎุงููุงุฏฺฏ</span>
          <input type="text" id="fullName" placeholder="Name Please " required />
        </label>

        <fieldset class="days-fieldset">
          <legend>ุงูุชุฎุงุจ ุฑูุฒูุง ููุชู</legend>

          <div class="day-row"><label><input type="checkbox" name="day" value="ุดูุจู" /> ุดูุจู</label></div>
          <div class="day-row"><label><input type="checkbox" name="day" value="ฺฉโุดูุจู" /> ฺฉโุดูุจู</label></div>
          <div class="day-row"><label><input type="checkbox" name="day" value="ุฏูุดูุจู" /> ุฏูุดูุจู</label></div>
          <div class="day-row"><label><input type="checkbox" name="day" value="ุณูโุดูุจู" /> ุณูโุดูุจู</label></div>
          <div class="day-row"><label><input type="checkbox" name="day" value="ฺูุงุฑุดูุจู" /> ฺูุงุฑุดูุจู</label></div>
        </fieldset>

        <div class="actions">
          <button id="sendBtn" type="button">ุงุฑุณุงู ุจู ูุงุชุณุงูพ</button>
        </div>
      </form>
    </section>

    <!-- successSection part -->
    <section id="successSection" style="display:none; text-align:center;">
      <h2 style="color:green;">โ ูุฑู ุดูุง ุขูุงุฏู ุงุฑุณุงู ุงุณุช</h2>
      <p>ูุงุชุณุงูพ ุจุงุฒ ุดุฏ. ูุทูุงู ุฏุฑ ูุงุชุณุงูพ ุฑู ุฏฺฉูู <strong>ุงุฑุณุงู</strong> ุจุฒูุฏ.</p>
      <img src="./SVGs/whatsapp-whats-app-svgrepo-com.svg" 
           alt="WhatsApp" width="80" style="margin:15px 0;" />
      <br>
      <button id="resetBtn">๐ ุซุจุช ูุฌุฏุฏ ูุฑู</button>
    </section>

  </main>

  <!-- ููุชุฑ -->
  <footer class="footer">
    ๐ ุฏุฑ ุตูุฑุช ฺฉู ุฏุฑ ุจุฑูุงูู ุชุบุฑ ุงุฌุงุฏ ุดุฏ ุจู ุฎุงูู ููฺฉ ุงุทูุงุน ุฏูุฏ.
  </footer>

  <script>
    const TARGET_NUMBER = "989168126382"; 

    function buildMessage() {
      const name = document.getElementById('fullName').value.trim();
      const dayCheckboxes = Array.from(document.querySelectorAll('input[name="day"]'));
      const selected = dayCheckboxes.filter(ch => ch.checked).map(ch => ch.value);

      let lines = [];
      lines.push('๐ ูุฑู ุงูุชุฎุงุจ ุฑูุฒ');
      if (name) lines.push('๐ค ูุงู: ' + name);
      lines.push('------------------------');

      if (selected.length === 0) {
        lines.push('โ ูฺ ุฑูุฒ ุงูุชุฎุงุจ ูุดุฏู ุงุณุช.');
      } else {
        lines.push('โ ุฑูุฒูุง ุงูุชุฎุงุจ ุดุฏู:');
        selected.forEach(d => lines.push('- ' + d));
      }

      return lines.join('\n');
    }

    // Send to WhatsApp
    document.getElementById('sendBtn').addEventListener('click', () => {
      const msg = buildMessage();
      const encoded = encodeURIComponent(msg);
      const url = `https://api.whatsapp.com/send?phone=${TARGET_NUMBER}&text=${encoded}`;
      
      // Whatsapp in new tab
      window.open(url, '_blank');

      //seccess section show
      document.getElementById('formSection').style.display = 'none';
      document.getElementById('successSection').style.display = 'block';

      // RESET FORM
      document.getElementById('mealForm').reset();
    });

    // Do it again
    document.getElementById('resetBtn').addEventListener('click', () => {
      document.getElementById('successSection').style.display = 'none';
      document.getElementById('formSection').style.display = 'block';
    });
  </script>
</body>
</html>
